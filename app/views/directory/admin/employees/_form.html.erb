


<%= form_for @employee,  html: {class: "form-horizontal"} do |f| %>
 
    <div style="float:left;">
        <div class="control-group">
        	<%= f.label :netid, "Net ID", class: "control-label" %>
        	<div class="controls controls-row">
        		<%= f.text_field :netid %>
        	</div>
        </div>

        <div class="control-group">
        	<%= f.label :first_name, class: "control-label" %>
        	<div class="controls">
        		<%= f.text_field :first_name %>
        	</div>
        </div>

        <div class="control-group">
        	<%= f.label :last_name, class: "control-label" %>
        	<div class="controls">
        		<%= f.text_field :last_name %>
        	</div>
        </div>

        <div class="control-group">
            <%= f.label :supervisor_id, class: "control-label" %>
            <div class="controls">
                <%= f.collection_select(:supervisor_id, DirectoryEmployee.sorted, :id, :display_name, {disabled: @employee.id}, html: {class: "span2"}) %>
            </div>
        </div>
    </div>
    <div style="float:left; margin-left:20px;">

        <div class="control-group">
            <%= f.label :start_date, class: "control-label" %>
            <div class="controls">
                <%= f.date_select :start_date, {:order => [:month, :day, :year], use_short_month: true}, {:class => "span1"} %>
            </div>
        </div>

        <div class="control-group">
        	<%= f.label :rank_id, class: "control-label" %>
        	<div class="controls">
        		<%= f.collection_select(:rank_id, DirectoryEmployeeRank.sorted, :id, :name, {:class=>"span2"}) %>
        	</div>
        </div>

        <div class="control-group">
            <%= f.label :status_id, class: "control-label" %>
            <div class="controls">
                <%= f.collection_select(:status_id, DirectoryEmployeeStatus.sorted, :id, :name, {:class=>"span2"}) %>
            </div>
        </div>

    </div>
    <div style="clear:left;"></div>
    <br />

    <div class="control-group">
        <%= f.label :about_text, "About", class: "control-label" %>
        <div class="controls">
            <%= f.text_area :about_text, cols: 40, rows: 20 %>
        </div>
    </div>




    <div class="control-group">
        <div class="form-actions">
        <%= f.submit class: "btn btn-primary" %>
        <button type="button" class="btn">Cancel</button>
        </div>
    </div>


<% end %>



<%= javascript_include_tag "markdown.converter" %>
<%= javascript_include_tag "markdown.editor" %>
<%= javascript_include_tag "markdown.sanitizer" %>
<%= javascript_include_tag "jquery.pagedown-bootstrap.min.js" %>
<%= stylesheet_link_tag "jquery.pagedown-bootstrap", :media => "all" %>


<%= javascript_tag do %>
    (function () {
        
            $("textarea#directory_employee_about_text").pagedownBootstrap({
                'sanatize': true,
                'help': function () { alert("Do you need help?"); },
                'hooks': [
                    {
                        'event': 'postConversion',
                        'callback': function (text) {
                            return "<h1>About</h1>" + text;
                        }
                    },
                    {
                        'event': 'preConversion', 
                        'callback': function (text) {
                            return text.replace(/\n\n/g, "<br />\n");
                        }
                    }
                ]
            });

            $('#wmd-preview-0').hide();
    })();
<% end %>

