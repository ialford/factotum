<% content_for(:right_column) do %>
    <h2>Instructions</h2>
    <p>Fill out the form</p>
<% end  %>

<fieldset>
  <%= f.input(:name, :required => true) do %>
      <%= f.text_field :name, tabindex: '1' %>
  <% end %>

  <%= f.input(:start_date, :required => true, :label => 'Hours are active from') do %>
      <%= f.text_field :start_date , :value => date_or_empty_string(f.object.start_date), :placeholder => 'Start Date', :required => false, :class=>'datepicker', tabindex: 2 %>
      to
      <%= f.text_field :end_date, :value => date_or_empty_string(f.object.end_date), :placeholder => 'End Date', :required => false, :class=>'datepicker', tabindex: 3 %>
  <% end  %>
</fieldset>

<fieldset>
  <legend>Hours</legend>

  <div class="row">
     <span class="span11">
       <% if f.object.prepend_text.nil? || f.object.prepend_text.empty? %>
         <a id="pretext" tabindex="4" class="editable placeholder"> Prepend Text: Text to be displayed above the hours. </a>
       <% else %>
         <%= f.text_area(:prepend_text, id: 'pretext_form_element', tabindex: "4", style: ((f.object.prepend_text.nil?) ? 'display:none;' : ''), class: "editable_textarea", placeholder: "Pretext: Text to be displayed above the hours") %>
       <% end %>
     </span>
  </div>

  <div id="hours-day-form">
    <% (0...number_of_hours_rows(f.object.hours)).each do | number | %>
      <%= render :partial => 'availability/hours/hours_row_form', :locals => { row: @hours.hours[number], f: f } %>
    <% end %>
  </div>

  <div class="row">
     <span class="span11">
       <% if f.object.postpend_text.nil? || f.object.postpend_text.empty? %>
         <a id="posttext" tabindex="6" class="editable placeholder"> Post Text: Text to be displayed below the hours.</a>
       <% else %>
         <%=  f.text_area(:postpend_text, tabindex: "6", id: 'posttext_form_element', style: ((f.object.prepend_text.nil?) ? 'display:none;' : ''), class: "editable_textarea", placeholder: "Pretext: Text to be displayed above the hours") %>
       <% end %>
     </span>
  </div>
</fieldset>

<div class="form-actions">
  <button tabindex="7" class="btn btn-primary">Save</button>
  <%= link_to "Reset Form", '#', id: "clear_form", class: "btn" %>
</div>

<div class="row_template" style="display:none;">
  <%= render :partial => 'availability/hours/hours_row_form', locals: { f: f} %>
</div>